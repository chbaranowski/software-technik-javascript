<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Kunden Übersicht</title>

    <link rel="stylesheet" type="text/css" href="css/styles.css">

    <script type="text/javascript" src="javascript/utils.js"></script>

    <script type="text/javascript" src="javascript/FlexTable.js"></script>

    <script type="text/javascript">

        var model;
        if (window.name) {
            model = JSON.parse(window.name);
        }
        else {
            model = [
                [1, 'Baranowski', 'Christian'],
                [2, 'Tester', 'Christian']
            ];
        }

        window.onload = function() {

            var parentHtmlElement = document.getElementById('customerTable');

            var demoTable = new FlexTable(parentHtmlElement, ['Nr.', 'Last Name', 'First Name'], model);

            demoTable.onEditClick = function(rowIndex) {
                this.save();
                window.location.href = 'customer-edit.html?customerId=' + rowIndex;
            }
            
            var newCustomerButton = document.getElementById('newCustomerButton');
            newCustomerButton.addEventListener('click', function(){
            	window.location.href = 'customer-edit.html';
            }, true);
            
        };

    </script>

</head>
<body>

<div class="main-content">

    <div class="box">
        <div class="box-top">
            <div>&nbsp;</div>
        </div>
        <div class="box-content">
            <h1>Kunden Übersicht</h1>
            <div id="customerTable"></div>
            <br></br>
            <input id="newCustomerButton" type="button" value="New Customer" />
        </div>
        <div class="box-bottom">
            <div>&nbsp;</div>
        </div>
    </div>

</div>

</body>
</html>
